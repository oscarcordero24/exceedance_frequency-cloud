<!DOCTYPE html>
<html lang="en">
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Exceedance Frequency</title> <!-- DISTRICT Home Page -->
        <meta name="Description" content="U.S. Army Corps of Engineers DISTRICT HERE Home Page" />
        <link rel="stylesheet" href="./css/body.css" />
        <link rel="stylesheet" href="./css/breadcrumbs.css" />
        <link rel="stylesheet" href="./css/jumpMenu.css" />
        <script type="text/javascript" src="./js/main.js"></script>
        <!-- Add sidebar.css IF NOT LOAD SIDEBAR TEMPLATE -->
        <link rel="stylesheet" href="./css/sidebar.css"/>
        <!-- Add content window style IF NOT LOAD SIDEBAR TEMPLATE -->
        <link rel="stylesheet" href="./css/styles.css">
        <link rel="stylesheet" href="./css/popup.css">
        <link rel="stylesheet" href="./css/responsive.css">
        <link rel="stylesheet" href="./css/loadingCircle.css">
    </head>
    <body>
        <div id="page-container">
            <header id="header">
                <!--Header content populated here by JavaScript Tag at end of body -->
            </header>
            <div class="page-wrap">
                <div class="container-fluid">
                    <div id="breadcrumbs">
                    </div>
                    <div class="page-content">
                        <sidebar id="sidebar">
                            <!--Side bar content populated here by JavaScript Tag at end of body -->
                        </sidebar>
                        <div id="topPane" class="col-md backend-cp-collapsible">
                            <!-- Page Content Here -->
                            <div class="box-usace">
                                <h2 class="box-header-striped">
                                    <span class="titleLabel title">Exceedance Frequency Analysis</span>
                                    <span class="rss"></span>
                                </h2>
                                <div class="box-content" style="margin:auto">
                                    <div class="content">


                                        <div id="content-body">

                                
                                            <div class="header">
                                                <h1 id="main-title">Exceedance Frequency Analysis</h1>
                                                <label>
                                                    <input type="checkbox">
                                                    <span></span>
                                                    <b></b>
                                                    <h4>Dark Mode</h4>
                                                </label>
                                            </div>
                                            <div class="container">
                                                <div class="input-container">
                                                    <div class="inputs">
                                                        <div class="data-info">
                                                            <div class="basin">
                                                                <label>Basin:</label>
                                                                <select name="basin" id="basinCombobox"></select>
                                                            </div>
                                                            <div class="gage">
                                                                <label>Gage:</label>
                                                                <select name="gage" id="gageCombobox"></select>
                                                            </div>
                                                            <div class="data-type">
                                                                <label id="is-project">Datum: Stage</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="time-info">
                                                        <table id="info-table">
                                                            <thead>
                                                                <tr>
                                                                    <th colspan="2">Available POR</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td>Start Time</td>
                                                                    <td>End Time</td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="por-start">MM/DD/YYYY</td>
                                                                    <td class="por-end">MM/DD/YYYY</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div class="select-time">
                                                        <table id="input-table">
                                                            <thead>
                                                                <tr>
                                                                    <th colspan="2">Select Time Window</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td>Starting Year</td>
                                                                    <td>Ending Year</td>
                                                                </tr>
                                                                <tr>
                                                                    <td><input type="date" id="begin-input" value="2018-01-01"></td>
                                                                    <td><input type="date" id="end-input" value="2020-12-31"></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>

                                                <div id="separator-div" class="separator hidden"></div>

                                                <div class="input-checkbox hidden">
                                                    
                                                    <div class="data-exclusion">

                                                        <h2>Time Window for Data Exclusions (Season, Single month, Single day, etc...)</h2>

                                                        <div class="checkbox">

                                                            <div>
                                                                <input type="checkbox" id="exclusion-checkbox">
                                                                <label>EXCLUSION</label>
                                                            </div>

                                                            <div>
                                                                <input type="checkbox" id="no-exclusion-checkbox" checked>
                                                                <label>No Data Exclusion (Default)</label>
                                                            </div>

                                                        </div>

                                                    </div>

                                                    <div class="exclusion-settings hidden">

                                                        <div class="checkbox">

                                                            <div class="single-month-day-only">

                                                                <div class="month-day-options">

                                                                    <div class="single-month">
                                                                        <input type="checkbox" id="single-month-checkbox">
                                                                        <label>Single Month Only</label>
                                                                    </div>

                                                                    <div class="single-day">
                                                                        <input type="checkbox" id="single-day-checkbox">
                                                                        <label>Single Day Only</label>
                                                                    </div>

                                                                </div>

                                                                <div class="single-month-day-input hidden">
                                                                    <input type="text" id="single-month-day-txbox">
                                                                    <span>==> Month (MM) or Day (DD)</span>
                                                                </div>
                                                                
                                                            </div>

                                                            <div class="specific-time-window-only">

                                                                <div class="specific-time-window">
                                                                    <input type="checkbox" id="specific-time-window-checkbox">
                                                                    <label>Specific Time Window Only</label>
                                                                </div>

                                                                <div class="specific-time-window-input hidden">
                                                                    <div>
                                                                        <label>From:</label>
                                                                        <input type="text" id="time-window-from-checkbox">
                                                                    </div>
                                                                    
                                                                    <div>
                                                                        <label>To:</label>
                                                                        <input type="text" id="time-window-to-checkbox">
                                                                    </div>
                                                                    
                                                                    <span>==> Month-Day (MM-DD)</span>
                                                                </div>

                                                            </div>

                                                        </div>

                                                    </div>
                                                    
                                                    <div class="exceedance-settings hidden">

                                                        <div class="exceedance-level">
                                                            <label>Exceedance Level:</label>
                                                            <input type="text" id="exceedance-level-txtbox">
                                                        </div>

                                                        <div class="exceedance-type">
                                                            <label>Exceedance Type:</label>
                                                            <select id="exceedance-type-dropbox">
                                                                <option value="ABOVE">ABOVE</option>
                                                                <option value="BELOW">BELOW</option>
                                                            </select>
                                                        </div>

                                                    </div>
                                                    
                                                </div>

                                                </div>

                                                <div id="buttons-div">

                                                    <button id="instruction-btn">Instructions</button>

                                                    <button id="compute-html-btn" disabled>Compute HTML</button>

                                                </div>

                                                <div id="instructions-div" class="hidden">

                                                    <h2 class="title">How to use this tool.</h2>

                                                    <ul>
                                                        <li><strong>Select a Basin</strong> - Choose a basin from the dropdown list.</li>
                                                        <li><strong>Select a Gage</strong> - Pick the desired gage from the available options.</li>
                                                        <li><strong>Choose a Time Window</strong> - Select the time period for which you want the data to be analyzed.</li>
                                                        <li><strong>Select Time Window for Exclusion</strong> - Choose a time window where only data inside this period will be used for the analysis, excluding other periods.</li>
                                                        <li><strong>Enter the Exceedance Level</strong> - Input the threshold level for the analysis.</li>
                                                        <li><strong>Choose Exceedance Level Type</strong> - Select <strong>'ABOVE'</strong> for stages exceeding the specified level or <strong>'BELOW'</strong> for stages below it.</li>
                                                        <li><strong>Press the "Compute HTML" Button</strong> - Click this button to generate the analysis results in HTML format.</li>
                                                    </ul>

                                                </div>

                                                <div id="error-message" class="hidden">
                                                    <h2>Error Message</h2>
                                                </div>

                                            </div>

                                            <div id="loading-image">
                                                <div class="loader">
                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105.52 80.94"><defs><style>.cls-1{fill:#DE1E2E;}.cls-2{fill:#fff;}</style></defs><title>usace-logo</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><rect class="cls-1" width="105.52" height="80.94" rx="10.67" ry="10.67"/><path class="cls-2" d="M95.07,74.83H11A4.9,4.9,0,0,1,6.1,69.94V11A4.9,4.9,0,0,1,11,6.1H95.07A4.9,4.9,0,0,1,100,11v59A4.89,4.89,0,0,1,95.07,74.83ZM11,8.1A2.9,2.9,0,0,0,8.1,11v59A2.9,2.9,0,0,0,11,72.83H95.07A2.9,2.9,0,0,0,98,69.94V11A2.9,2.9,0,0,0,95.07,8.1Z"/><path class="cls-2" d="M84.5,52V26.42l4.12-4.12V16.42H83.69v4.33L80,20.68V16.42c0-.05-4.53,0-4.53,0v4.33H71.81V16.42c0-.06-4.87,0-4.87,0V22.3L71,26.42s.06,12.83.06,12.7-10.92,0-10.94,0,0-5.07,0-5.07l2.77-2.77V24.06c0-.14-4.12.06-4.39,0-.09,0,0,4.25,0,4.25H55.06V24.12H50.6a40.46,40.46,0,0,0,.07,4.12H46.82V24.12H42.49c-.13,0,0,7,0,7l3.11,3.11.07,4.86h-11V26.42l3.92-3.92V16.42H33.71v4.33l-3.78-.07V16.42H25.68s0,4.34,0,4.33-3.45-.07-3.78-.07V16.42s-4.93-.06-4.93,0v6.22l3.78,3.71V52.83s-3.92,3.85-3.92,4,.07,6.42.07,6.42H89V56.48ZM29.19,56.41h-3V45.74h3Zm.07-17.29h-3V28.45h3ZM41.08,53.23h-3V45.67h3ZM60.8,60.66H45.74V50.06s2.89-7.51,7.16-7.57l.13,0,.14-.15.17.17c4.65.38,7.46,7.53,7.46,7.53Zm7.29-7.36h-3V45.74h3Zm11.75,3.11h-3V45.74h3ZM80,37.9H77V27.23h3Z"/></g></g></svg>
                                                    <span style="--i: 1;"></span>
                                                    <span style="--i: 2;"></span>
                                                    <span style="--i: 3;"></span>
                                                    <span style="--i: 4;"></span>
                                                    <span style="--i: 5;"></span>
                                                    <span style="--i: 6;"></span>
                                                    <span style="--i: 7;"></span>
                                                    <span style="--i: 8;"></span>
                                                    <span style="--i: 9;"></span>
                                                    <span style="--i: 10;"></span>
                                                    <span style="--i: 11;"></span>
                                                    <span style="--i: 12;"></span>
                                                    <span style="--i: 13;"></span>
                                                    <span style="--i: 14;"></span>
                                                    <span style="--i: 15;"></span>
                                                    <span style="--i: 16;"></span>
                                                    <span style="--i: 17;"></span>
                                                    <span style="--i: 18;"></span>
                                                    <span style="--i: 19;"></span>
                                                    <span style="--i: 20;"></span>
                                                    <h2 class="text-string">Loading Data<br><b>If this takes more than 15 seconds, reload the page.</b></h2>
                                                </div>
                                            </div>

                                            <div id="results" class="hidden">

                                                <div class="results-info">
                                                    <p class="top"></p>
                                                    <p class="bottom"></p>
                                                </div>

                                                <div class="tables">
                                                    <table id="by-year-table">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2">Exceedance Data By Year (Newest to Oldest)</th>
                                                            </tr>
                                                            <tr>
                                                                <th>Water Level</th>
                                                                <th>Date</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="by-year-table-body"></tbody>
                                                    </table>
    
                                                    <table id="magnitude-table">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2">Exceedance Data By Magnitude (Largest to Smallest)</th>
                                                            </tr>
                                                            <tr>
                                                                <th>Water Level</th>
                                                                <th>Date</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="magnitude-table-body"></tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                            
                                            </div>
                                            
                                            <!-- <script src="https://cdn.sheetjs.com/xlsx-0.18.2/package/dist/xlsx.full.min.js"></script> -->
                                            <script src="./js/xlsx.full.min.js"></script>

                                            <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script> -->
                                            <script src="./js/jspdf.umd.min.js"></script>

                                            <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script> -->
                                            <script src="./js/jspdf.plugin.autotable.min.js"></script>

                                            <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script> -->
                                            <script src="./js/html2canvas.min.js"></script>

                                            <script type="module" src="./js/script.js"></script>
                                        </div>

                                        
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="box-usace">
                                <h2 class="box-header-striped">
                                    <span class="titleLabel title">Additional Content</span>
                                    <span class="rss"></span>
                                </h2>
                                <div class="box-content" style="margin:auto">
                                    <div class="content"> -->
                                        <!-- Box Content Here -->
                                        <!-- <div>
                                            <h1>More Paragraphs</h1>
                                            <p>Styled like the district pages with the gray bar/red line on top and the
                                                text offset.
                                                Add as many of theses as you need!
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <h1>Without the Box Headers!</h1>
                                <p>Or you can include content without the box-header-striped or box-content fields!</p>
                            </div> -->
                        </div>
                    </div>
                </div>
                <button id="returnTop" title="Return to Top of Page">Top</button>
            </div>
        </div>
<!-- 
        <div id="popup-window">
            <img src="../images/usace_logo.png" alt="usace-logo">
            <h2 id="popup-title">This is the POPUP window Title.</h2>
            <p id="popup-message">Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime delectus quasi alias dolore maiores enim nulla exercitationem quos, minus non?</p>
            <a href="#" id="popup-button">Close</a>
        </div> -->

        <footer id="footer">
            <!--Footer content populated here by script tag at end of body -->
        </footer>
        <script src="../../js/libraries/jQuery-3.3.6.min.js"></script>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <script defer>
            // When the document has loaded pull in the page header and footer skins
            $(document).ready(function () {
                // Change the v= to a different number to force clearing the cached version on the client browser
                $('#header').load('../../templates/DISTRICT.header.html?v=1');
                // $('#sidebar').load('../../templates/DISTRICT.sidebar.html?v=1');
                $('#footer').load('../../templates/DISTRICT.footer.html?v=1');
            })
        </script>
    </body>

</html>
